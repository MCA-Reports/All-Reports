<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Summary</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        h1, h2, h3 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Report Summary</h1>

    <!-- User Details -->
    <h3>Name: {{ user.first_name }} {{ user.last_name }}</h3>

    <!-- Filtered Month and Year -->
    {% if month_name and year %}
        <h3>{{ month_name }} {{ year }}</h3>
    {% else %}
        <h3>All Reports</h3>
    {% endif %}

    <!-- Report Table -->
    {% if reports %}
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Quran Ayat</th>
                <th>Hadith Count</th>
                <th>Islamic Literature</th>
                <th>Prayers</th>
                <th>Invitations</th>
                <th>Materials</th>
                <th>Books</th>
                <th>Time Spent</th>
                <th>Family Meetings</th>
            </tr>
        </thead>
        <tbody>
            {% for report in reports %}
            <tr>
                <td>{{ report.date_posted.strftime('%Y-%m-%d') }}</td>
                <td>{{ report.quran_ayat }}</td>
                <td>{{ report.hadith_count }}</td>
                <td>{{ report.islamic_literature or 'N/A' }}</td>
                <td>{{ report.prayers }}</td>
                <td>{{ report.invitations }}</td>
                <td>{{ report.invitation_materials }}</td>
                <td>{{ report.books_distributed }}</td>
                <td>{{ report.org_time_spent }} minutes</td>
                <td>{{ 'Yes' if report.family_meetings else 'No' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No reports available.</p>
    {% endif %}
</body>
</html>
